import{j as e}from"./jsx-runtime.236aeee0.js";import{A as n}from"./_astro-entry_sonner.dae5ec25.js";import{N as a}from"./config.a3d1421f.js";import{A as i}from"./AvatarUser.034f5ec7.js";import"./index.9e3bb68e.js";import"./index.ec3c183f.js";const d="https://img.freepik.com/vector-premium/patron-fisuras-reciclaje-separacion-basura-co2-concepto-cambio-climatico-doodle-vectorial_414360-2797.jpg";function b({user:s,className:t="",...r}){const o=JSON.parse(localStorage.getItem(`${a}-userData`));async function l(c){console.log("cerrar"),c.preventDefault(),(await fetch("/api/auth/cerrarSesion")).status===200&&(localStorage.removeItem(`${a}-userData`),n.success("Sesión cerrada"),window.location.assign("/login"))}return e.jsxs("section",{className:`w-full flex justify-center flex-col items-center bg-white shadow-lg rounded-md md:w-[220px] overflow-hidden flex-shrink-0 ${t}`,...r,children:[e.jsx("div",{className:"h-[60px] bg-cover aspect-video bg-no-repeat w-full bg-center block",style:{backgroundImage:`url(${s?.portadaURL||d})`}}),e.jsxs("div",{className:"flex flex-col items-center gap-2 -translate-y-6",children:[e.jsx(i,{"client:only":!0,className:"w-14 h-14",user:s}),e.jsx("p",{className:"text-sm w-[90%] text-center",children:s?.displayName})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full text-sm",children:[e.jsx("span",{className:"block border-b w-full border-gray-300"}),e.jsxs("div",{className:"flex justify-around w-full p-2",children:[e.jsx("p",{children:s?.usuariosConectados.length>1?"Contactos":"Contacto"}),e.jsx("p",{children:s?.usuariosConectados.length})]}),e.jsx("span",{className:"block border-b w-full border-gray-300"}),e.jsx("div",{className:"flex justify-around w-full p-2 text-[12px]",children:e.jsxs("p",{children:["Contacte con las personas más cercanas"," ",e.jsx("a",{href:"/mi-red",className:"text-violet-700 underline-offset-2 underline",children:"puedes encontrarlas aquí"})]})})]}),s?.uid===o?.uid&&e.jsx("form",{onSubmit:l,className:"text-black p-2",children:e.jsx("button",{className:"bg-rose-600 p-1 text-sm rounded-3xl text-white",type:"submit",children:"Cerrar sesión"})})]})}export{b as TarjetaUsuario};
